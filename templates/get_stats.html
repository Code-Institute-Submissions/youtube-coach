{% extends 'base.html'%} 

{% block content %}
<div class='row get-stats'>
    <div class='col s12 m4'>
        <ul class="collection">
            <li class="collection-header"><h5>Top 3 Contributors</h5></li>
            {% for contributor in top_contributors %}
                <a href="{{url_for('get_contributor_detail', contributor_username=contributor._id)}}">
                    <li class="collection-item avatar">
                         <img src="{{url_for('static', filename='imgs/profile.png')}}" alt="{{contributor._id}}" class="circle">
                        <span class="title">{{contributor._id}}</span>
                    </li>
                </a>
            {% endfor %}
        </ul>
    </div>    
    <div class='col s12 m4'>    
        <ul class="collection">
            <li class="collection-header"><h5>Most Liked Videos</h5></li>
            {% for video in top_liked_videos %}
                <a href="{{url_for('get_detail', video_id='_id')}}">
                    <li class="collection-item avatar">
                        <img src="{{video['thumbnails']['small']}}" alt="{{video['video_title']}}" class="circle">
                        <span class="title truncate">{{video['video_title']}}</span>
                    </li>
                </a>
            {% endfor %}
        </ul>
    </div>
    <div class='col s12 m4'>    
        <ul class="collection">
            <li class="collection-header"><h5>Most Featured Youtubers</h5></li>
            {% for youtuber in top_youtubers %}
                <a href="{{url_for('get_youtuber_detail', channel_id=youtuber['youtuber_info']['_id'])}}">
                    <li class="collection-item avatar">
                        <img src="{{youtuber['youtuber_info']['thumbnails']}}" alt="{{youtuber['_id']}}" class="circle">
                        <span class="title">{{youtuber['_id']}}</span>
                    </li>
                </a>
            {% endfor %}
        </ul>
    </div>
    
</div>

{% for video in top_liked_videos %}
    <h1>video</h1>
{% endfor %}

<div class="row">
    <div class="col s12 m6">
      <div class="card">
          <div id="by_number_of_videos"></div>
      </div>
    </div>
</div>



<script type="text/javascript" src="http://d3js.org/d3.v3.min.js"></script>
<script type="text/javascript" src="static/js/stats.js"></script>
<script type="text/javascript">
 var    videos_by_category={{videos_by_category|safe}},
        videos_by_body_part={{videos_by_body_part|safe}},
        videos_by_language={{videos_by_language|safe}},
        likes_by_category={{likes_by_category|safe}},
        likes_by_body_part={{likes_by_body_part|safe}},
        likes_by_language={{likes_by_language|safe}},
        youtube_views_by_category={{youtube_views_by_category|safe}},
        youtube_views_by_body_part={{youtube_views_by_body_part|safe}},
        youtube_views_by_language={{youtube_views_by_language|safe}},
        duration_by_category={{duration_by_category|safe}},
        duration_by_body_part={{duration_by_body_part|safe}},
        duration_by_language={{duration_by_language|safe}};
        
        console.log(videos_by_category);
        
    makeBarChart(videos_by_category, 'number_of_videos', "#by_number_of_videos")

</script>
{% endblock %}